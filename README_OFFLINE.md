# Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„Ø© (Offline-First) - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Norko Store

## ðŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ØªÙ… ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Norko Store Ù„ÙŠØ¹Ù…Ù„ Ø¨ÙØ¹Ø§Ù„ÙŠØ© Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª. ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¢Ù†:

- âœ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹
- âœ… Ø¥Ø¶Ø§ÙØ© Ù…Ø¨ÙŠØ¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
- âœ… Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- âœ… Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¹Ù†Ø¯ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„

## ðŸ—ï¸ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Service Worker (`static/js/service-worker.js`)

- ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ© (CSS, JS, Images)
- ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- Ø¹Ø±Ø¶ ØµÙØ­Ø© offline Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ù…Ø­ØªÙˆÙ‰

### 2. Ù…Ø¯ÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© (`static/js/db-manager.js`)

- Ø§Ø³ØªØ®Ø¯Ø§Ù… IndexedDB Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§ØªØŒ ÙˆØ§Ù„ÙØ¦Ø§Øª
- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©

### 3. Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© (`static/js/sync-manager.js`)

- Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
- Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ ÙˆØ§Ù„Ø®Ø§Ø¯Ù…
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### 4. Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„Ø© (`static/js/offline-handler.js`)

- ØªØ­Ø³ÙŠÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„
- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ù„ÙŠ
- Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„Ø©

## ðŸš€ Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

### Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø©

```html
- Ù…Ø¤Ø´Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ (Ù…ØªØµÙ„/ØºÙŠØ± Ù…ØªØµÙ„) - Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¬Ø§Ø±ÙŠØ© - ÙˆÙ‚Øª Ø¢Ø®Ø± Ù…Ø²Ø§Ù…Ù†Ø© -
Ø²Ø± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©
```

### Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„

```javascript
// ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ø¨ÙŠØ¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª
await window.syncManager.saveSaleLocal({
  customer_id: customerId,
  items: cartItems,
  payment_status: "paid",
  payment_type: "cash",
});
```

### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ù„ÙŠ

```javascript
// Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹
const products = await window.syncManager.getProductsLocal({
  search: "Ù…Ù†ØªØ¬",
  category_id: 1,
});
```

## ðŸ“± ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### 1. Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©

1. Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
2. Ø³ØªØªÙ… Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
3. Service Worker Ø³ÙŠØ­ÙØ¸ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©

### 2. Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„

1. Ø¹Ù†Ø¯ Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø¥Ù†ØªØ±Ù†ØªØŒ Ø³ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© "ØºÙŠØ± Ù…ØªØµÙ„"
2. ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
3. Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¨ÙŠØ¹ ÙŠØ¹Ù…Ù„Ø§Ù† Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©

### 3. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

1. Ø¹Ù†Ø¯ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ØŒ ØªØ¨Ø¯Ø£ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
2. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ØªÙØ±ÙØ¹ Ù„Ù„Ø®Ø§Ø¯Ù…
3. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ØªÙØ­Ø¯Ù‘Ø« Ù…Ø­Ù„ÙŠØ§Ù‹

## ðŸ”§ API Endpoints Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

### `/api/sync` (POST)

Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:

```json
{
  "type": "sales",
  "data": [
    {
      "local_id": 123456789,
      "customer_id": 1,
      "items": [
        {
          "product_id": 5,
          "quantity": 2,
          "unit_price": 50.0,
          "total_price": 100.0
        }
      ],
      "total_amount": 100.0,
      "payment_status": "paid"
    }
  ]
}
```

### `/api/offline-status` (GET)

Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:

```json
{
  "status": "online",
  "timestamp": "2025-01-11T...",
  "stats": {
    "products": { "total": 150, "low_stock": 5 },
    "customers": { "total": 45 },
    "sales_today": { "count": 12, "revenue": 1500.0 }
  },
  "user": {
    "id": 1,
    "username": "admin",
    "role": "admin"
  }
}
```

## ðŸ”„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©

### Ø¹Ù†Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„:

1. Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø¥ØµØ¯Ø§Ø± Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
2. Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø­Ø¯Ù‘Ø«Ø©
3. Ø¬Ù„Ø¨ Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
4. Ø±ÙØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©

### Ø¹Ù†Ø¯ Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„:

1. Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
2. Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
3. Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…

### Ø¹Ù†Ø¯ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„:

1. Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
2. Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
3. Ø­Ù„ ØªØ¶Ø§Ø±Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Client wins)

## ðŸŽ¨ ØªØ­Ø³ÙŠÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### Ù…Ø¤Ø´Ø±Ø§Øª Ø¨ØµØ±ÙŠØ©

```css
.network-status.online {
  background: #d4edda;
  color: #155724;
}

.network-status.offline {
  background: #f8d7da;
  color: #721c24;
}
```

### Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø°ÙƒÙŠØ©

- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù†Ù‚Ø·Ø§Ø¹/Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„
- Ù…Ø¤Ø´Ø± ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- Ø±Ø³Ø§Ø¦Ù„ Ù†Ø¬Ø§Ø­/ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª

## ðŸ› ï¸ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„:

1. Ø§ÙØªØ­ Developer Tools (F12)
2. Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ Network
3. Ø­Ø¯Ø¯ "Offline" Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
4. Ø¬Ø±Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

### Ù…Ø±Ø§Ù‚Ø¨Ø© IndexedDB:

1. Ø§ÙØªØ­ Developer Tools
2. Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ Application
3. ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØŒ Ø§Ø®ØªØ± IndexedDB
4. ØªØµÙØ­ Ø¨ÙŠØ§Ù†Ø§Øª "NorkoStoreDB"

### Ù…Ø±Ø§Ù‚Ø¨Ø© Service Worker:

1. ÙÙŠ Developer ToolsØŒ Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Application
2. Ø§Ø®ØªØ± Service Workers Ù…Ù† Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
3. Ø±Ø§Ù‚Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª

## ðŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©

### Ø­Ø¬Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:

```javascript
const status = await window.syncManager.getStatus();
console.log("Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:", status.pendingOperations);
console.log("Ø¢Ø®Ø± Ù…Ø²Ø§Ù…Ù†Ø©:", status.lastSyncTime);
```

### Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:

```javascript
// Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
await window.dbManager.clearAllData();

// Ù…Ø³Ø­ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
await window.syncManager.resetAllData();
```

## âš ï¸ Ø§Ø¹ØªØ¨Ø§Ø±Ø§Øª Ù…Ù‡Ù…Ø©

### Ø§Ù„Ø£Ù…Ø§Ù†:

- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ØºÙŠØ± Ù…Ø´ÙØ±Ø©
- Ù„Ø§ ØªØ­ÙØ¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø­Ù„ÙŠØ§Ù‹
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙŠØªÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…

### Ø§Ù„Ø£Ø¯Ø§Ø¡:

- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø© Ø¨Ù€ Ø­ÙˆØ§Ù„ÙŠ 50MB
- Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØªØ­Ø¯Ø« ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
- Ø£ÙˆÙ„ÙˆÙŠØ© Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©

### Ø§Ù„ØªÙˆØ§ÙÙ‚:

- ÙŠØªØ·Ù„Ø¨ Ù…ØªØµÙØ­Ø§Øª Ø­Ø¯ÙŠØ«Ø© ØªØ¯Ø¹Ù…:
  - Service Workers
  - IndexedDB
  - ES6 Promises

## ðŸ”® Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ

### Ù…Ø²Ø§ÙŠØ§ Ù…Ø®Ø·Ø·Ø©:

- [ ] Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
- [ ] Ø¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„
- [ ] ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- [ ] Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©
- [ ] Ù…Ø²Ø§Ù…Ù†Ø© Ø°ÙƒÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©

### ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ù…ÙƒÙ†Ø©:

- [ ] ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
- [ ] ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ†
- [ ] Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù…Ø­Ù„ÙŠ
- [ ] Ø§Ø³ØªÙŠØ±Ø§Ø¯/ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©

## ðŸ“ž Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

### ØªØ´Ø®ÙŠØµ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„:

1. ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­
2. Ø§Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ù…Ù‘Ù„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
3. ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Console

### Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©:

- "Service Worker failed to register": ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù„ÙØ§Øª
- "IndexedDB quota exceeded": Ø§Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
- "Sync failed": ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª

---

## ðŸ“„ Ù…Ø«Ø§Ù„ ÙƒØ§Ù…Ù„: Ø§Ø³ØªØ®Ø¯Ø§Ù… API Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†

```javascript
// Ù…Ø«Ø§Ù„: Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„
async function addOfflineSale() {
  const saleData = {
    customer_id: 1,
    items: [
      {
        product_id: 5,
        quantity: 2,
        unit_price: 25.0,
        total_price: 50.0,
      },
    ],
    total_amount: 50.0,
    payment_status: "paid",
    payment_type: "cash",
    notes: "Ø¨ÙŠØ¹ ØªØ¬Ø±ÙŠØ¨ÙŠ",
  };

  try {
    const saleId = await window.syncManager.saveSaleLocal(saleData);
    console.log("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ¹ Ù…Ø­Ù„ÙŠØ§Ù‹:", saleId);

    // Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø³ØªØ­Ø¯Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø§ØªØµØ§Ù„
    if (window.syncManager.isOnline) {
      window.syncManager.performSync();
    }
  } catch (error) {
    console.error("Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ¹:", error);
  }
}

// Ù…Ø«Ø§Ù„: Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹
async function searchProducts(searchTerm) {
  const products = await window.dbManager.getProducts({
    search: searchTerm,
    low_stock: false,
  });

  console.log("Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«:", products);
  return products;
}

// Ù…Ø«Ø§Ù„: Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
window.addEventListener("online", () => {
  console.log("ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„");
  window.syncManager.performSync();
});

window.addEventListener("offline", () => {
  console.log("ØªÙ… Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ - Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­Ù„ÙŠ");
});
```

---

ðŸŽ‰ **ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!** Ø£ØµØ¨Ø­ Ù†Ø¸Ø§Ù… Norko Store ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„.
